let test:2 load "test_utils/test";
let group:2 load "test_utils/group";

group "functional tests" fn()
	,test "use of a hash as an object" fn()
		let adder
			#"sum" 0

			#"set_sum" fn(this sum)
				#"sum" sum this
			;

			#"add" fn(this number)
				let sum + ."sum"this number;
				as(."set_sum"this):2 this sum
			;
		{};

		let adder as(."add"adder):2 adder 2;
		let adder as(."add"adder):2 adder 3;
		== 5 ."sum"adder
	;
[];
